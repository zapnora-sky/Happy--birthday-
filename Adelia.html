<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Happy Birthday Adelia</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      font-family: 'Segoe UI', 'Arial Rounded MT Bold', Arial, sans-serif;
      background: #101830;
    }
    body {
      background: linear-gradient(to bottom, #101830 60%, #243a60 100%);
      position: relative;
      height: 100vh;
      width: 100vw;
    }
    .star {
      position: absolute;
      border-radius: 50%;
      background: white;
      opacity: 0.7;
      animation: twinkle 2s infinite;
      pointer-events: none;
    }
    @keyframes twinkle {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 0.2; }
    }
    #moon {
      position: absolute;
      top: 60px;
      right: 100px;
      width: 90px;
      height: 90px;
      background: radial-gradient(circle at 30% 30%, #fffbe7 70%, #e0e6f6 100%);
      border-radius: 50%;
      box-shadow: 0 0 60px 20px #ffffeecc, 0 0 120px 50px #fdf6e1aa;
      z-index: 2;
    }
    .shooting-star {
      position: absolute;
      width: 120px;
      height: 2px;
      background: linear-gradient(90deg, #fff, #fff0 80%);
      opacity: 0.7;
      pointer-events: none;
      z-index: 4;
      animation: shoot 2.5s linear forwards;
    }
    @keyframes shoot {
      from { opacity: 0; }
      10% { opacity: 1; }
      to {
        transform: translate(400px, 120px);
        opacity: 0;
      }
    }
    #overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.4);
      z-index: 1;
      pointer-events: none;
    }
    #promptContainer, #countryPrompt, #musicPrompt {
      z-index: 10;
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      color: #fff;
    }
    #promptContainer select, #promptContainer button,
    #countryPrompt select, #countryPrompt button,
    #musicPrompt button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    #mainContent {
      display: none;
      z-index: 5;
      position: absolute;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      text-align: center;
      color: #fff;
      overflow: hidden;
    }

    /* Message area - now above cloud/cake, always centered */
    #messageArea {
      position: absolute;
      top: 8vh;
      left: 50%;
      transform: translateX(-50%);
      width: 90vw;
      max-width: 600px;
      z-index: 8;
      display: flex;
      flex-direction: column;
      align-items: center;
      pointer-events: none;
    }
    #message {
      font-size: 2.4rem;
      font-weight: 800;
      letter-spacing: 2px;
      opacity: 0;
      transition: opacity 1s;
      margin-bottom: 0.4em;
      text-shadow: 0 0 18px #fff, 0 0 4px #ffd;
      background: linear-gradient(90deg, #fff8, #ffdbe8 70%, #fff8 100%);
      border-radius: 18px;
      padding: 0.2em 0.5em;
      color: #d02e7f;
      box-shadow: 0 2px 12px #fff5;
    }
    #message.visible { opacity: 1; }
    #rotatingMessages {
      font-size: 1.4rem;
      min-height: 29px;
      transition: opacity 0.5s;
      z-index: 8;
      text-shadow: 0 0 8px #fff, 0 0 3px #ffd;
      color: #7a3eb1;
      font-weight: 600;
      background: rgba(255,255,255,0.14);
      border-radius: 12px;
      padding: 0.15em 0.7em;
    }

    /* Floating Cloud Platform */
    .cloud-platform {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: 50vh;
      z-index: 6;
      animation: cloudFloat 3s ease-in-out infinite alternate;
      filter: drop-shadow(0 0 40px #fff7);
      opacity: 0;
      transition: opacity 1s;
      width: 340px;
      height: 120px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
    }
    .cloud-platform.visible { opacity: 1; }
    @media (max-width: 600px) {
      .cloud-platform {
        width: 88vw;
        height: 80px;
        top: 54vh;
      }
      #messageArea {
        top: 3.5vh;
        max-width: 96vw;
      }
      #message { font-size: 1.4rem; }
      #rotatingMessages { font-size: 1.05rem; }
    }
    @keyframes cloudFloat {
      from { transform: translate(-50%, 0px); }
      to { transform: translate(-50%, 20px); }
    }

    /* Modern CAKE (SVG) */
    .cakeBox {
      position: absolute;
      left: 50%;
      top: 37vh;
      transform: translateX(-50%);
      z-index: 7;
      opacity: 0;
      transition: opacity 1s;
      width: 180px;
      height: 180px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      pointer-events: none;
    }
    .cakeBox.visible { opacity: 1; }
    @media (max-width: 600px) {
      .cakeBox {
        width: 110px;
        height: 110px;
        top: 40vh;
      }
    }

    /* Candles animated flames (inside SVG) */
    .cake-candle-flame {
      transform-origin: 50% 95%;
      animation: flameFlicker 0.55s infinite alternate;
      opacity: 0;
      transition: opacity 0.3s;
      filter: drop-shadow(0 0 5px #ffd);
    }
    .cake-candle-flame.visible { opacity: 1; }
    @keyframes flameFlicker {
      from { transform: scaleY(1) rotate(-2deg); opacity: 1; }
      60% { transform: scaleY(1.08) scaleX(0.93) rotate(2deg); opacity: 0.82;}
      100% { transform: scaleY(0.95) scaleX(1.18) rotate(-1deg); opacity: 0.95;}
    }

    /* Floating hearts & sparkles */
    .floating-heart, .floating-sparkle {
      position: absolute;
      z-index: 9;
      opacity: 0.7;
      pointer-events: none;
      animation: floatUp 6s linear infinite;
    }
    .floating-heart {
      width: 22px; height: 22px;
      background: none;
    }
    .floating-sparkle {
      width: 12px; height: 12px;
      background: radial-gradient(circle, #fff, #ffeaa7 40%, #fff0 100%);
      border-radius: 50%;
    }
    @keyframes floatUp {
      from { transform: translateY(0) scale(1); opacity: 0.7; }
      80% { opacity: 1; }
      to { transform: translateY(-60px) scale(1.15); opacity: 0; }
    }
  </style>
</head>
<body>

<!-- Moon, stars, and overlay -->
<div id="moon"></div>
<div id="stars"></div>
<div id="overlay"></div>

<!-- Prompts -->
<div id="promptContainer">
  <h2>Are you Adelia?</h2>
  <button onclick="checkName(true)">Yes</button>
  <button onclick="checkName(false)">No</button>
</div>
<div id="countryPrompt" style="display:none;">
  <h2>Which country are you from?</h2>
  <select id="countrySelect">
    <option>-- Select --</option>
    <option>Ghana</option>
    <option>Kenya</option>
    <option>Indonesia</option>
    <option>Philippines</option>
    <option>Other</option>
  </select>
  <button onclick="checkCountry()">Continue</button>
</div>
<div id="musicPrompt" style="display:none;">
  <h2>Would you like some background music?</h2>
  <button onclick="startExperience(true)">Yes</button>
  <button onclick="startExperience(false)">No</button>
</div>

<!-- Main Content -->
<div id="mainContent">
  <!-- Message area is always above cake/cloud, centered -->
  <div id="messageArea">
    <div id="message">Happy Birthday Adelia!</div>
    <div id="rotatingMessages"></div>
  </div>
  <!-- Platform cloud (SVG) -->
  <div class="cloud-platform" id="cloudPlatform">
    <!-- SVG Cloud with a soft look -->
    <svg width="100%" height="100%" viewBox="0 0 340 110">
      <ellipse cx="65" cy="75" rx="65" ry="35" fill="#fff" fill-opacity="0.93" />
      <ellipse cx="170" cy="65" rx="100" ry="48" fill="#fff" fill-opacity="0.87" />
      <ellipse cx="265" cy="85" rx="65" ry="30" fill="#fff" fill-opacity="0.94" />
      <ellipse cx="230" cy="50" rx="45" ry="17" fill="#fff" fill-opacity="0.8" />
      <ellipse cx="110" cy="52" rx="32" ry="15" fill="#fff" fill-opacity="0.75" />
      <ellipse cx="170" cy="90" rx="110" ry="25" fill="#fff" fill-opacity="0.58" />
    </svg>
  </div>
  <!-- Beautiful SVG Cake ON the cloud -->
  <div class="cakeBox" id="cakeBox">
    <svg id="cakeSVG" width="100%" height="100%" viewBox="0 0 180 180">
      <!-- Plate shadow -->
      <ellipse cx="90" cy="175" rx="60" ry="12" fill="#ddd" fill-opacity="0.40"/>
      <!-- Plate -->
      <ellipse cx="90" cy="170" rx="54" ry="10" fill="#fff8fa" stroke="#eee" stroke-width="1"/>
      <!-- Bottom Layer -->
      <ellipse cx="90" cy="135" rx="48" ry="28" fill="#f9c7b6" stroke="#e17350" stroke-width="2"/>
      <rect x="42" y="95" width="96" height="40" rx="24" fill="#fcc6a0" stroke="#e17350" stroke-width="2"/>
      <!-- Icing Drip -->
      <path d="M50 108 Q57 114 65 108 Q75 115 80 108 Q90 120 100 108 Q110 118 120 108 Q130 116 138 108" fill="#fff4f0" />
      <!-- Middle Layer -->
      <ellipse cx="90" cy="105" rx="38" ry="18" fill="#ffe5e0" stroke="#e17350" stroke-width="2"/>
      <rect x="52" y="80" width="76" height="28" rx="14" fill="#ffe5e0" stroke="#e17350" stroke-width="2"/>
      <!-- Middle Icing Drip -->
      <path d="M58 93 Q62 99 70 93 Q80 100 90 93 Q100 102 110 93 Q120 100 128 93" fill="#f9d3f2" />
      <!-- Top Layer -->
      <ellipse cx="90" cy="77" rx="28" ry="11" fill="#fff5bc" stroke="#e1ba45" stroke-width="2"/>
      <rect x="62" y="56" width="56" height="22" rx="10" fill="#fffbe8" stroke="#e1ba45" stroke-width="2"/>
      <!-- Top Icing Drip -->
      <path d="M65 66 Q70 72 75 66 Q80 75 85 66 Q90 74 95 66 Q100 73 105 66 Q110 75 115 66" fill="#ffb0e0" />
      <!-- Sprinkles -->
      <ellipse cx="78" cy="102" rx="2" ry="1.1" fill="#ff6f91"/>
      <ellipse cx="92" cy="98" rx="1.2" ry="2" fill="#5fffc2"/>
      <ellipse cx="110" cy="108" rx="1.3" ry="1.3" fill="#ffc94d"/>
      <ellipse cx="102" cy="84" rx="1.2" ry="1" fill="#00bfff"/>
      <ellipse cx="120" cy="82" rx="1.2" ry="1.1" fill="#ff7f50"/>
      <ellipse cx="80" cy="75" rx="1" ry="1.2" fill="#a0e9ff"/>
      <!-- Cherries -->
      <ellipse cx="80" cy="60" rx="2" ry="2" fill="#e34a6f" />
      <ellipse cx="100" cy="58" rx="2" ry="2" fill="#b9123a" />
      <!-- Candles (group) -->
      <g id="cakeCandles">
        <g class="cake-candle-group" id="candle1">
          <rect x="78" y="42" width="5" height="20" rx="2.2" fill="#ffe1e0" stroke="#ffbaba" stroke-width="1.3"/>
          <ellipse cx="80.5" cy="42" rx="2.6" ry="1.6" fill="#ffbaba" />
          <ellipse cx="80.5" cy="42" rx="2" ry="1.2" fill="#fff"/>
          <ellipse class="cake-candle-flame" cx="80.5" cy="37.5" rx="2.3" ry="4.5" fill="url(#flameGrad)" opacity="0"/>
        </g>
        <g class="cake-candle-group" id="candle2">
          <rect x="88" y="37" width="5" height="25" rx="2.2" fill="#e0ffe1" stroke="#baffba" stroke-width="1.3"/>
          <ellipse cx="90.5" cy="37" rx="2.6" ry="1.6" fill="#baffba" />
          <ellipse cx="90.5" cy="37" rx="2" ry="1.2" fill="#fff"/>
          <ellipse class="cake-candle-flame" cx="90.5" cy="32.5" rx="2.3" ry="4.5" fill="url(#flameGrad)" opacity="0"/>
        </g>
        <g class="cake-candle-group" id="candle3">
          <rect x="98" y="42" width="5" height="20" rx="2.2" fill="#e0e8ff" stroke="#a7baff" stroke-width="1.3"/>
          <ellipse cx="100.5" cy="42" rx="2.6" ry="1.6" fill="#a7baff" />
          <ellipse cx="100.5" cy="42" rx="2" ry="1.2" fill="#fff"/>
          <ellipse class="cake-candle-flame" cx="100.5" cy="37.5" rx="2.3" ry="4.5" fill="url(#flameGrad)" opacity="0"/>
        </g>
      </g>
      <!-- Flames gradient -->
      <defs>
        <radialGradient id="flameGrad" cx="0.5" cy="0.4" r="0.8">
          <stop offset="0%" stop-color="#fffbb9"/>
          <stop offset="60%" stop-color="#ffe45b"/>
          <stop offset="100%" stop-color="#ffb900" stop-opacity="0.75"/>
        </radialGradient>
      </defs>
    </svg>
  </div>
</div>

<!-- Music -->
<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/audio/2023/04/12/audio_1f9e1dc6f5.mp3" type="audio/mpeg">
</audio>

<script>
  // --- Configurations ---
  const rotatingTexts = [
    "You are a rare gem💝 in this world.",
    "Your smile😊😊 brings warmth to hearts.",
    "Today, I celebrate🎉🎉✨ you completely.",
    "May your dreams shine✨✨ as bright as the stars.",
    "Adelia, you are truly special.🌹💝",
    "Simon ✨ truly cares 🤞"
  ];
  let currentIndex = 0;

  // --- Star field creation ---
  function createStars(num = 80) {
    const starsDiv = document.getElementById('stars');
    starsDiv.innerHTML = '';
    for (let i = 0; i < num; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      const size = Math.random() * 2.4 + 1.2;
      const top = Math.random() * 90 + '%';
      const left = Math.random() * 100 + '%';
      star.style.width = star.style.height = size + 'px';
      star.style.top = top;
      star.style.left = left;
      star.style.opacity = (Math.random() * 0.8 + 0.2).toFixed(2);
      star.style.animationDuration = (1.5 + Math.random() * 2.5) + 's';
      starsDiv.appendChild(star);
    }
  }

  // --- Animated shooting stars ---
  function spawnShootingStar() {
    const area = document.getElementById('mainContent');
    if (!area) return;
    const star = document.createElement('div');
    star.className = 'shooting-star';
    const startX = Math.random() * window.innerWidth * 0.5;
    const startY = Math.random() * window.innerHeight * 0.5;
    star.style.top = startY + 'px';
    star.style.left = startX + 'px';
    area.appendChild(star);
    setTimeout(() => { area.removeChild(star); }, 2500);
  }

  // --- Floating hearts and sparkles ---
  function spawnFloatingElement(type = 'heart') {
    const area = document.getElementById('mainContent');
    if (!area) return;
    let el;
    if (type === 'heart') {
      el = document.createElement('div');
      el.className = 'floating-heart';
      el.innerHTML = `<svg viewBox="0 0 32 32" width="22" height="22"><path d="M16 29s-10-7.4-10-14.2C6 8.5 10.5 6 13.6 8.8c1.2 1.2 1.9 2.2 2.4 3 0.5-0.8 1.2-1.8 2.4-3C21.5 6 26 8.5 26 14.8 26 21.6 16 29 16 29z" fill="#ff6090"/></svg>`;
    } else {
      el = document.createElement('div');
      el.className = 'floating-sparkle';
    }
    const left = 40 + Math.random() * 20 + '%';
    const top = 52 + Math.random() * 8 + '%';
    el.style.left = left;
    el.style.top = top;
    el.style.animationDuration = (4.5 + Math.random() * 2.5) + 's';
    area.appendChild(el);
    setTimeout(() => { area.removeChild(el); }, 6000);
  }

  // --- Prompt/Flow logic ---
  function checkName(isAdelia) {
    if (!isAdelia) {
      document.getElementById('promptContainer').innerHTML = "<h2>Sorry, special contents are only for Adelia.</h2>";
    } else {
      document.getElementById('promptContainer').style.display = 'none';
      document.getElementById('countryPrompt').style.display = 'flex';
    }
  }
  function checkCountry() {
    const country = document.getElementById('countrySelect').value;
    if (country === "Indonesia") {
      document.getElementById('countryPrompt').style.display = 'none';
      document.getElementById('musicPrompt').style.display = 'flex';
    } else {
      alert("Hmm... That doesn't seem right.");
    }
  }

  function startExperience(playMusic) {
    document.getElementById('musicPrompt').style.display = 'none';
    document.getElementById('mainContent').style.display = 'block';

    // Animate platform cloud in
    setTimeout(() => {
      document.getElementById('cloudPlatform').classList.add('visible');
    }, 400);

    // Animate cake in (after cloud appears)
    setTimeout(() => {
      document.getElementById('cakeBox').classList.add('visible');
    }, 1200);

    // Animate candles' flames one by one after cake visible
    setTimeout(() => {
      revealCandleFlames();
    }, 2000);

    // Show birthday message
    setTimeout(() => {
      document.getElementById('message').classList.add('visible');
    }, 2800);

    // Start rotating personal lines
    setTimeout(() => {
      startRotatingMessages();
    }, 3400);

    // Start background music if selected
    if (playMusic) {
      document.getElementById('bgMusic').play();
    }

    // Start shooting stars and floating hearts/sparkles
    setInterval(() => { spawnShootingStar(); }, 1800);
    setInterval(() => { spawnFloatingElement('heart'); }, 3900);
    setInterval(() => { spawnFloatingElement('sparkle'); }, 2200);
  }

  // --- Animate SVG Candle Flames ---
  function revealCandleFlames() {
    // Select all .cake-candle-flame in cakeSVG
    const svg = document.getElementById('cakeSVG');
    if(!svg) return;
    const flames = svg.querySelectorAll('.cake-candle-flame');
    flames.forEach((flame, i) => {
      setTimeout(() => {
        flame.classList.add('visible');
        flame.setAttribute('opacity', 1);
      }, 400 * (i + 1));
    });
  }

  // --- Rotating personal lines ---
  function startRotatingMessages() {
    const msgBox = document.getElementById('rotatingMessages');
    function showNextMsg() {
      msgBox.style.opacity = 0;
      setTimeout(() => {
        msgBox.textContent = rotatingTexts[currentIndex];
        msgBox.style.opacity = 1;
        currentIndex = (currentIndex + 1) % rotatingTexts.length;
      }, 500);
    }
    showNextMsg();
    setInterval(showNextMsg, 4000);
  }

  // --- Init on page load ---
  window.onload = function() {
    createStars(80);
  };
  window.onresize = function() {
    createStars(80);
  };
</script>
</body>
</html>
